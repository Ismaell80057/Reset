<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>RESET â€” IsmaÃ«l</title>
<link rel="manifest" href="manifest.webmanifest">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icon-192.png">
<style>
  :root{
    --bg:#0f1216; --card:#171b21; --muted:#8da2b3; --text:#e9f0f7;
    --accent:#4da3ff; --danger:#ff6b6b; --warn:#ffd166; --ok:#8be28b; --line:#243040; --chip:#223042;
  }
  [data-theme="light"]{
    --bg:#f7fbff; --card:#ffffff; --muted:#5b6b78; --text:#0b1a2b;
    --accent:#2b74d8; --danger:#c54242; --warn:#b8860b; --ok:#2c8d2c; --line:#dde7f1; --chip:#eef4fb;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{ margin:0; font-family:-apple-system,BlinkMacSystemFont,Roboto,Inter,Segoe UI,Helvetica,Arial; background:var(--bg); color:var(--text); }
  header{ position:sticky; top:0; z-index:10; background:rgba(15,18,22,.8); backdrop-filter:blur(10px); border-bottom:1px solid var(--line); }
  [data-theme="light"] header{ background:rgba(255,255,255,.8); }
  .bar{ max-width:1100px; margin:0 auto; display:flex; align-items:center; gap:10px; padding:10px 16px; }
  .logo{font-weight:800; letter-spacing:.5px; font-size:18px}
  .nav{display:flex; gap:8px; flex-wrap:wrap; margin-left:auto}
  .nav button, .icon-btn{
    background:transparent; color:var(--muted); border:1px solid var(--line); padding:8px 10px; border-radius:10px; cursor:pointer; font-weight:600;
  }
  .nav button.active{ color:var(--text); border-color:var(--accent); background:rgba(77,163,255,.12)}
  main{max-width:1100px; margin:16px auto; padding:12px}
  .grid{display:grid; grid-template-columns:1fr; gap:12px}
  @media (min-width:900px){ .grid{grid-template-columns:1fr 1fr} }
  .card{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:14px; }
  h2{font-size:18px; margin:4px 0 10px 0}
  h3{font-size:16px; margin:10px 0 8px 0; color:#4da3ff}
  .muted{color:var(--muted); font-size:13px}
  label{display:block; font-weight:600; margin:10px 0 6px}
  input[type=text], input[type=password], input[type=date], input[type=number], textarea, select{
    width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--line); background:transparent; color:var(--text);
  }
  textarea{min-height:80px; resize:vertical}
  .row{display:flex; gap:8px; flex-wrap:wrap}
  .row > *{flex:1}
  .btn{ display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:10px; border:1px solid var(--line);
    background:transparent; color:var(--text); font-weight:700; cursor:pointer; }
  .btn.primary{border-color:var(--accent); background:rgba(77,163,255,.12)}
  .btn.ok{border-color:var(--ok); background:rgba(139,226,139,.12)}
  .btn.warn{border-color:var(--warn); background:rgba(255,209,102,.12)}
  .btn.danger{border-color:var(--danger); background:rgba(255,107,107,.12)}
  .pill{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:var(--chip); color:#3b6fab; font-size:12px; border:1px solid var(--line)}
  .list{display:grid; gap:10px}
  .item{padding:10px; border:1px solid var(--line); border-radius:12px; background:transparent}
  .kpi{display:flex; gap:10px; flex-wrap:wrap; margin:4px 0 8px}
  .kpi .box{flex:1; min-width:140px; background:transparent; border:1px solid var(--line); padding:10px; border-radius:12px}
  .kpi .big{font-size:22px; font-weight:900}
  .tag{padding:3px 8px; border-radius:999px; background:var(--chip); color:#3b6fab; border:1px solid var(--line); font-size:12px}
  .ok{color:var(--ok)} .warn{color:var(--warn)} .danger{color:var(--danger)}
  .small{font-size:12px}
  .table{width:100%; border-collapse:collapse}
  .table th, .table td{border:1px solid var(--line); padding:10px; text-align:left; vertical-align:top}
  .table th{background:transparent}
  .due-0{border-left:4px solid var(--ok)}
  .due-1{border-left:4px solid var(--warn)}
  .due-2{border-left:4px solid var(--danger)}
  .section{padding:6px 10px; border-radius:8px; background:transparent; border:1px dashed var(--line); margin:8px 0; font-weight:800; letter-spacing:.5px; color:#4da3ff}
  .copy{cursor:pointer; border-bottom:1px dashed #7aa8ff}
  .right{display:flex; gap:8px; justify-content:flex-end}
  .hidden{display:none}
  .divider{height:1px; background:var(--line); margin:10px 0}

  /* Login overlay */
  #login{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:var(--bg); z-index:100; }
  #login .card{ max-width:420px; width:92%; }
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="logo">RESET â€” IsmaÃ«l</div>
    <div class="nav" id="nav"></div>
    <button class="icon-btn" id="themeBtn" aria-label="Changer de thÃ¨me">ðŸŒ“</button>
  </div>
</header>

<!-- LOGIN -->
<div id="login">
  <div class="card">
    <h2>Connexion</h2>
    <label>Identifiant</label>
    <input id="lu" type="text" placeholder="Ismael">
    <label>Mot de passe</label>
    <input id="lp" type="password" placeholder="Mot de passe">
    <div class="right"><button class="btn ok" onclick="doLogin()">Se connecter</button></div>
    <div id="lockMsg" class="muted small"></div>
  </div>
</div>

<main id="app" class="hidden">
  <!-- â€¦ (toutes les sections Dashboard, 3R, Journal, Habitudes, TÃ¢ches, Contrat, HALT, DonnÃ©es â€” identiques Ã  ta version stable) â€¦ -->
</main>

<script>
// ====== Login simple ======
function doLogin(){
  const u=document.getElementById('lu').value.trim();
  const p=document.getElementById('lp').value;
  if(u==='Ismael' && p==='Bymemu48.'){
    document.getElementById('login').style.display='none';
    document.getElementById('app').classList.remove('hidden');
    applyTheme(); showView('Dashboard'); renderDashboard();
    window.scrollTo({top:0, behavior:'auto'});
  } else {
    document.getElementById('lockMsg').textContent='Identifiants incorrects.';
  }
}

// ====== App state & toute la logique (identique Ã  ta version stable) ======
// (Garde ton code JS existant ici â€“ câ€™est celui qui fonctionnait)
</script>
<script src="console-overlay.js" defer></script>
<script>
if('serviceWorker' in navigator){ navigator.serviceWorker.register('./sw.js?v=full3').catch(console.error); }
</script>
</body>
</html>
